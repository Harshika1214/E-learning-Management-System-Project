<!DOCTYPE html>
<html>
<head>
    <title>Teacher Dashboard</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<div class="dashboard">
<h1>Teacher/Admin Dashboard</h1>

<nav>
    <a href="{{ url_for('add_course') }}" class="btn">Add Course</a>
    <a href="{{ url_for('add_assignment') }}" class="btn">Add Assignment</a>
    <a href="{{ url_for('logout') }}" class="btn">Logout</a>
</nav>

<h2>Courses</h2>
{% if courses %}
<table>
    <tr><th>ID</th><th>Title</th><th>Description</th><th>Actions</th></tr>
    {% for course in courses %}
    <tr>
        <td>{{ course.id }}</td>
        <td>{{ course.title }}</td>
        <td>{{ course.description }}</td>
        <td>
            <a href="{{ url_for('edit_course', course_id=course.id) }}" class="btn-small">Edit</a>
            <form action="{{ url_for('delete_course', course_id=course.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn-small red">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No courses available.</p>
{% endif %}

<h2>Assignments</h2>
{% if assignments %}
<table>
    <tr><th>ID</th><th>Title</th><th>Description</th><th>Course</th><th>Actions</th></tr>
    {% for assignment in assignments %}
    <tr>
        <td>{{ assignment.id }}</td>
        <td>{{ assignment.title }}</td>
        <td>{{ assignment.description }}</td>
        <td>{{ assignment.course_obj.title }}</td>
        <td>
            <a href="{{ url_for('edit_assignment', assignment_id=assignment.id) }}" class="btn-small">Edit</a>
            <form action="{{ url_for('delete_assignment', assignment_id=assignment.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn-small red">Delete</button>
            </form>
            <a href="{{ url_for('review_submissions', assignment_id=assignment.id) }}" class="btn-small green">Review Submissions</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No assignments available.</p>
{% endif %}
</div>
</body>
</html>
